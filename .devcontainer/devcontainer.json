// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.205.2/containers/go
{
	"name": "Go",
	"build": {
		"dockerfile": "Dockerfile",
		"args": {
			"VARIANT": "1.17-bullseye",
			"NODE_VERSION": "none",
			"MIGRATE_TAG": "v4.15.1"
		}
	},
	"runArgs": [
		"--network=ssh_server_net",
	],
	// Set *default* container specific settings.json values on container create.
	"settings": {
		"go.toolsManagement.checkForUpdates": "local",
		"go.useLanguageServer": true,
		"go.gopath": "/go",
		"go.goroot": "/usr/local/go",
		"go.testEnvVars": {
			"CC": "gcc",
			"CXX": "g++"
		},
		"go.toolsEnvVars": {
			"CC": "gcc",
			"CXX": "g++"
		},
		"go.autocompleteUnimportedPackages": true,
		"go.gotoSymbol.includeImports": true,
		"go.inferGopath": true,
		"go.gotoSymbol.includeGoroot": true,
		"go.coverOnSave": true,
		"go.vetOnSave": "workspace",
		"go.coverMode": "atomic",
		"go.addTags": {
			"tags": "json,bson,yaml",
			"promptForTags": true
		},
		"go.formatTool": "goformat",
		"go.coverOnSingleTest": true,
		"go.coverOnSingleTestFile": true,
		"go.coverShowCounts": true,
		"go.enableCodeLens": {
			"references": true,
			"runtest": true
		},
		"gopls": {
			"expandWorkspaceToModule": true,
			"experimentalWorkspaceModule": true,
			"gofumpt": true
		},
		"go.toolsManagement.autoUpdate": true,
		"[go]": {
			"editor.defaultFormatter": "golang.go"
		},
	},
	// Add the IDs of extensions you want installed when the container is created.
	"extensions": [
		"golang.Go",
		"mikestead.dotenv",
		"usernamehw.errorlens",
		"rpinski.shebang-snippets",
		"redhat.vscode-yaml",
		"visualstudioexptteam.vscodeintellicode",
		"christian-kohler.path-intellisense",
		"wayou.vscode-todo-highlight",
		"remisa.shellman",
		"bungcip.better-toml",
		"tamasfe.even-better-toml",
		"eamodio.gitlens"
	],
	"features": {
		"git": "latest",
		"sshd": "latest"
	},
	"mounts": [],
	"forwardPorts": [
		8080
	]
}
